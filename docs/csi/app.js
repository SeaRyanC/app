"use strict";(()=>{var j,v,mt,$t,N,_t,ft,dt,pt,Q,J,K,Gt,F={},ht=[],Vt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,B=Array.isArray;function H(e,t){for(var n in t)e[n]=t[n];return e}function Z(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Yt(e,t,n){var o,r,a,i={};for(a in t)a=="key"?o=t[a]:a=="ref"?r=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?j.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return G(e,i,o,r,null)}function G(e,t,n,o,r){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++mt,__i:-1,__u:0};return r==null&&v.vnode!=null&&v.vnode(a),a}function L(e){return e.children}function V(e,t){this.props=e,this.context=t}function D(e,t){if(t==null)return e.__?D(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?D(e):null}function gt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return gt(e)}}function ct(e){(!e.__d&&(e.__d=!0)&&N.push(e)&&!Y.__r++||_t!=v.debounceRendering)&&((_t=v.debounceRendering)||ft)(Y)}function Y(){for(var e,t,n,o,r,a,i,c=1;N.length;)N.length>c&&N.sort(dt),e=N.shift(),c=N.length,e.__d&&(n=void 0,o=void 0,r=(o=(t=e).__v).__e,a=[],i=[],t.__P&&((n=H({},o)).__v=o.__v+1,v.vnode&&v.vnode(n),tt(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[r]:null,a,r??D(o),!!(32&o.__u),i),n.__v=o.__v,n.__.__k[n.__i]=n,bt(a,n,i),o.__e=o.__=null,n.__e!=r&&gt(n)));Y.__r=0}function yt(e,t,n,o,r,a,i,c,l,_,m){var s,p,d,b,x,S,h,y=o&&o.__k||ht,R=t.length;for(l=jt(n,t,y,l,R),s=0;s<R;s++)(d=n.__k[s])!=null&&(p=d.__i==-1?F:y[d.__i]||F,d.__i=s,S=tt(e,d,p,r,a,i,c,l,_,m),b=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&et(p.ref,null,d),m.push(d.ref,d.__c||b,d)),x==null&&b!=null&&(x=b),(h=!!(4&d.__u))||p.__k===d.__k?l=vt(d,l,e,h):typeof d.type=="function"&&S!==void 0?l=S:b&&(l=b.nextSibling),d.__u&=-7);return n.__e=x,l}function jt(e,t,n,o,r){var a,i,c,l,_,m=n.length,s=m,p=0;for(e.__k=new Array(r),a=0;a<r;a++)(i=t[a])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=e.__k[a]=G(null,i,null,null,null):B(i)?i=e.__k[a]=G(L,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?i=e.__k[a]=G(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):e.__k[a]=i,l=a+p,i.__=e,i.__b=e.__b+1,c=null,(_=i.__i=Bt(i,n,l,s))!=-1&&(s--,(c=n[_])&&(c.__u|=2)),c==null||c.__v==null?(_==-1&&(r>m?p--:r<m&&p++),typeof i.type!="function"&&(i.__u|=4)):_!=l&&(_==l-1?p--:_==l+1?p++:(_>l?p--:p++,i.__u|=4))):e.__k[a]=null;if(s)for(a=0;a<m;a++)(c=n[a])!=null&&(2&c.__u)==0&&(c.__e==o&&(o=D(c)),St(c,c));return o}function vt(e,t,n,o){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=vt(r[a],t,n,o));return t}e.__e!=t&&(o&&(t&&e.type&&!t.parentNode&&(t=D(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Bt(e,t,n,o){var r,a,i,c=e.key,l=e.type,_=t[n],m=_!=null&&(2&_.__u)==0;if(_===null&&c==null||m&&c==_.key&&l==_.type)return n;if(o>(m?1:0)){for(r=n-1,a=n+1;r>=0||a<t.length;)if((_=t[i=r>=0?r--:a++])!=null&&(2&_.__u)==0&&c==_.key&&l==_.type)return i}return-1}function lt(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Vt.test(t)?n:n+"px"}function $(e,t,n,o,r){var a,i;t:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||lt(e.style,t,"");if(n)for(t in n)o&&n[t]==o[t]||lt(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(pt,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?o?n.u=o.u:(n.u=Q,e.addEventListener(t,a?K:J,a)):e.removeEventListener(t,a?K:J,a);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function ut(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Q++;else if(t.t<n.u)return;return n(v.event?v.event(t):t)}}}function tt(e,t,n,o,r,a,i,c,l,_){var m,s,p,d,b,x,S,h,y,R,f,T,g,A,C,I,U,w=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),a=[c=t.__e=n.__e]),(m=v.__b)&&m(t);t:if(typeof w=="function")try{if(h=t.props,y="prototype"in w&&w.prototype.render,R=(m=w.contextType)&&o[m.__c],f=m?R?R.props.value:m.__:o,n.__c?S=(s=t.__c=n.__c).__=s.__E:(y?t.__c=s=new w(h,f):(t.__c=s=new V(h,f),s.constructor=w,s.render=zt),R&&R.sub(s),s.state||(s.state={}),s.__n=o,p=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&w.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=H({},s.__s)),H(s.__s,w.getDerivedStateFromProps(h,s.__s))),d=s.props,b=s.state,s.__v=t,p)y&&w.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&w.getDerivedStateFromProps==null&&h!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(h,f),t.__v==n.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(h,s.__s,f)===!1){for(t.__v!=n.__v&&(s.props=h,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(O){O&&(O.__=t)}),T=0;T<s._sb.length;T++)s.__h.push(s._sb[T]);s._sb=[],s.__h.length&&i.push(s);break t}s.componentWillUpdate!=null&&s.componentWillUpdate(h,s.__s,f),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,b,x)})}if(s.context=f,s.props=h,s.__P=e,s.__e=!1,g=v.__r,A=0,y){for(s.state=s.__s,s.__d=!1,g&&g(t),m=s.render(s.props,s.state,s.context),C=0;C<s._sb.length;C++)s.__h.push(s._sb[C]);s._sb=[]}else do s.__d=!1,g&&g(t),m=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++A<25);s.state=s.__s,s.getChildContext!=null&&(o=H(H({},o),s.getChildContext())),y&&!p&&s.getSnapshotBeforeUpdate!=null&&(x=s.getSnapshotBeforeUpdate(d,b)),I=m,m!=null&&m.type===L&&m.key==null&&(I=Ct(m.props.children)),c=yt(e,B(I)?I:[I],t,n,o,r,a,i,c,l,_),s.base=t.__e,t.__u&=-161,s.__h.length&&i.push(s),S&&(s.__E=s.__=null)}catch(O){if(t.__v=null,l||a!=null)if(O.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,t.__e=c}else{for(U=a.length;U--;)Z(a[U]);X(t)}else t.__e=n.__e,t.__k=n.__k,O.then||X(t);v.__e(O,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=Wt(n.__e,t,n,o,r,a,i,l,_);return(m=v.diffed)&&m(t),128&t.__u?void 0:c}function X(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(X)}function bt(e,t,n){for(var o=0;o<n.length;o++)et(n[o],n[++o],n[++o]);v.__c&&v.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){v.__e(a,r.__v)}})}function Ct(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:B(e)?e.map(Ct):H({},e)}function Wt(e,t,n,o,r,a,i,c,l){var _,m,s,p,d,b,x,S=n.props||F,h=t.props,y=t.type;if(y=="svg"?r="http://www.w3.org/2000/svg":y=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(_=0;_<a.length;_++)if((d=a[_])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,a[_]=null;break}}if(e==null){if(y==null)return document.createTextNode(h);e=document.createElementNS(r,y,h.is&&h),c&&(v.__m&&v.__m(t,a),c=!1),a=null}if(y==null)S===h||c&&e.data==h||(e.data=h);else{if(a=a&&j.call(e.childNodes),!c&&a!=null)for(S={},_=0;_<e.attributes.length;_++)S[(d=e.attributes[_]).name]=d.value;for(_ in S)if(d=S[_],_!="children"){if(_=="dangerouslySetInnerHTML")s=d;else if(!(_ in h)){if(_=="value"&&"defaultValue"in h||_=="checked"&&"defaultChecked"in h)continue;$(e,_,null,d,r)}}for(_ in h)d=h[_],_=="children"?p=d:_=="dangerouslySetInnerHTML"?m=d:_=="value"?b=d:_=="checked"?x=d:c&&typeof d!="function"||S[_]===d||$(e,_,d,S[_],r);if(m)c||s&&(m.__html==s.__html||m.__html==e.innerHTML)||(e.innerHTML=m.__html),t.__k=[];else if(s&&(e.innerHTML=""),yt(t.type=="template"?e.content:e,B(p)?p:[p],t,n,o,y=="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,i,a?a[0]:n.__k&&D(n,0),c,l),a!=null)for(_=a.length;_--;)Z(a[_]);c||(_="value",y=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[_]||y=="progress"&&!b||y=="option"&&b!=S[_])&&$(e,_,b,S[_],r),_="checked",x!=null&&x!=e[_]&&$(e,_,x,S[_],r))}return e}function et(e,t,n){try{if(typeof e=="function"){var o=typeof e.__u=="function";o&&e.__u(),o&&t==null||(e.__u=e(t))}else e.current=t}catch(r){v.__e(r,n)}}function St(e,t,n){var o,r;if(v.unmount&&v.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||et(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){v.__e(a,t)}o.base=o.__P=null}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&St(o[r],t,n||typeof e.type!="function");n||Z(e.__e),e.__c=e.__=e.__e=void 0}function zt(e,t,n){return this.constructor(e,n)}function Tt(e,t,n){var o,r,a,i;t==document&&(t=document.documentElement),v.__&&v.__(e,t),r=(o=typeof n=="function")?null:n&&n.__k||t.__k,a=[],i=[],tt(t,e=(!o&&n||t).__k=Yt(L,null,[e]),r||F,F,t.namespaceURI,!o&&n?[n]:r?null:t.firstChild?j.call(t.childNodes):null,a,!o&&n?n:r?r.__e:t.firstChild,o,i),bt(a,e,i)}j=ht.slice,v={__e:function(e,t,n,o){for(var r,a,i;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),i=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,o||{}),i=r.__d),i)return r.__E=r}catch(c){e=c}throw e}},mt=0,$t=function(e){return e!=null&&e.constructor===void 0},V.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof e=="function"&&(e=e(H({},n),this.props)),e&&H(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ct(this))},V.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ct(this))},V.prototype.render=L,N=[],ft=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dt=function(e,t){return e.__v.__b-t.__v.__b},Y.__r=0,pt=/(PointerCapture)$|Capture$/i,Q=0,J=ut(!1),K=ut(!0),Gt=0;var z,E,nt,Et,ot=0,Ht=[],k=v,kt=k.__b,At=k.__r,xt=k.diffed,wt=k.__c,Rt=k.unmount,It=k.__;function Mt(e,t){k.__h&&k.__h(E,e,ot||t),ot=0;var n=E.__H||(E.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function P(e){return ot=1,qt(Nt,e)}function qt(e,t,n){var o=Mt(z++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Nt(void 0,t),function(c){var l=o.__N?o.__N[0]:o.__[0],_=o.t(l,c);l!==_&&(o.__N=[_,o.__[1]],o.__c.setState({}))}],o.__c=E,!E.__f)){var r=function(c,l,_){if(!o.__c.__H)return!0;var m=o.__c.__H.__.filter(function(p){return!!p.__c});if(m.every(function(p){return!p.__N}))return!a||a.call(this,c,l,_);var s=o.__c.props!==c;return m.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(s=!0)}}),a&&a.call(this,c,l,_)||s};E.__f=!0;var a=E.shouldComponentUpdate,i=E.componentWillUpdate;E.componentWillUpdate=function(c,l,_){if(this.__e){var m=a;a=void 0,r(c,l,_),a=m}i&&i.call(this,c,l,_)},E.shouldComponentUpdate=r}return o.__N||o.__}function Lt(e,t){var n=Mt(z++,3);!k.__s&&Xt(n.__H,t)&&(n.__=e,n.u=t,E.__H.__h.push(n))}function Jt(){for(var e;e=Ht.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(W),e.__H.__h.forEach(rt),e.__H.__h=[]}catch(t){e.__H.__h=[],k.__e(t,e.__v)}}k.__b=function(e){E=null,kt&&kt(e)},k.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),It&&It(e,t)},k.__r=function(e){At&&At(e),z=0;var t=(E=e.__c).__H;t&&(nt===E?(t.__h=[],E.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(W),t.__h.forEach(rt),t.__h=[],z=0)),nt=E},k.diffed=function(e){xt&&xt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ht.push(t)!==1&&Et===k.requestAnimationFrame||((Et=k.requestAnimationFrame)||Kt)(Jt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),nt=E=null},k.__c=function(e,t){t.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||rt(o)})}catch(o){t.some(function(r){r.__h&&(r.__h=[])}),t=[],k.__e(o,n.__v)}}),wt&&wt(e,t)},k.unmount=function(e){Rt&&Rt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){t=r}}),n.__H=void 0,t&&k.__e(t,n.__v))};var Ot=typeof requestAnimationFrame=="function";function Kt(e){var t,n=function(){clearTimeout(o),Ot&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,35);Ot&&(t=requestAnimationFrame(n))}function W(e){var t=E,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),E=t}function rt(e){var t=E;e.__c=e.__(),E=t}function Xt(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Nt(e,t){return typeof t=="function"?t(e):t}var Qt=0;function u(e,t,n,o,r,a){t||(t={});var i,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?i=t[c]:l[c]=t[c];var _={type:e,props:l,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Qt,__i:-1,__u:0,__source:r,__self:a};if(typeof e=="function"&&(i=e.defaultProps))for(c in i)l[c]===void 0&&(l[c]=i[c]);return v.vnode&&v.vnode(_),_}var Zt="1.0.0",te="dev",q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],at="csi-tsv-data",ee={date:["date","transaction date","trans date","posted date","posting date","trans_date","txn date","txn_date"],merchant:["merchant","vendor","payee","description","merchant name","name","store"],category:["category","type","expense type","transaction type","trans type","spending category"],account:["account","account name","card","payment method","source","bank","credit card"],originalStatement:["original statement","statement","memo","original description","raw description","bank description"],notes:["notes","note","comments","comment","remarks","remark"],amount:["amount","total","sum","value","price","cost","transaction amount","trans amount"],tags:["tags","tag","labels","label"],owner:["owner","user","person","member","paid by","purchaser"],fixedCategory:["fixedcategory","fixed category","override category","corrected category","manual category"]};function ne(e){let t=e.map(r=>r.toLowerCase().trim()),n={},o=new Set;for(let[r,a]of Object.entries(ee)){if(r!=="fixedCategory"){let i=a.map(c=>`fixed${c}`).concat(a.map(c=>`fixed ${c}`));for(let c of i){let l=t.findIndex((_,m)=>!o.has(m)&&_===c);if(l!==-1){let _=`fixed${r.charAt(0).toUpperCase()+r.slice(1)}`;_ in n||(n[_]=l,o.add(l))}}}for(let i of a){let c=t.findIndex((l,_)=>!o.has(_)&&l===i);if(c!==-1){n[r]=c,o.add(c);break}}}return{date:n.date??-1,merchant:n.merchant??-1,category:n.category??-1,account:n.account??-1,originalStatement:n.originalStatement??-1,notes:n.notes??-1,amount:n.amount??-1,tags:n.tags??-1,owner:n.owner??-1,fixedCategory:n.fixedCategory??-1}}function oe(e){let t=e.trim(),n=t.match(/^(\d{4})[-/](\d{1,2})[-/](\d{1,2})$/);if(n)return{year:parseInt(n[1],10),month:parseInt(n[2],10),day:parseInt(n[3],10)};if(n=t.match(/^(\d{1,2})[-/](\d{1,2})[-/](\d{4})$/),n){let o=parseInt(n[1],10),r=parseInt(n[2],10),a=parseInt(n[3],10);return o>12&&r<=12?{year:a,month:r,day:o}:{year:a,month:o,day:r}}return null}function re(e){let t=e.filter(o=>o<0).length,n=e.filter(o=>o>0).length;return t>n}function ae(){let e=["Groceries","Restaurants","Transportation","Entertainment","Utilities","Shopping","Healthcare","Travel"],t=["Platinum Card","Rewards Visa","Checking Account","Debit Card"],n=["Primary","Secondary","Shared"],o={Groceries:[{name:"Fresh Mart",statement:"FRESH MART #1234"},{name:"Green Valley Foods",statement:"GREEN VALLEY FOODS"},{name:"City Grocery",statement:"CITY GROCERY STORE"},{name:"Organic Market",statement:"ORGANIC MKT LLC"},{name:"Corner Store",statement:"CORNER STORE #567"}],Restaurants:[{name:"Bella Italia",statement:"BELLA ITALIA REST"},{name:"Golden Dragon",statement:"GOLDEN DRAGON #42"},{name:"Burger Joint",statement:"BURGER JOINT LLC"},{name:"Sushi Palace",statement:"SUSHI PALACE"},{name:"Taco Express",statement:"TACO EXPRESS #789"}],Transportation:[{name:"Metro Transit",statement:"METRO TRANSIT AUTH"},{name:"City Parking",statement:"CITY PARKING GARAGE"},{name:"Fuel Stop",statement:"FUEL STOP #321"},{name:"Rideshare Co",statement:"RIDESHARE CO"},{name:"Auto Service",statement:"AUTO SERVICE CTR"}],Entertainment:[{name:"Cinema Plus",statement:"CINEMA PLUS #55"},{name:"Streaming Service",statement:"STREAMING SVC"},{name:"Concert Hall",statement:"CONCERT HALL TIX"},{name:"Bowling Alley",statement:"BOWLING ALLEY"},{name:"Game Store",statement:"GAME STORE #12"}],Utilities:[{name:"Electric Company",statement:"ELECTRIC CO UTIL"},{name:"Water Services",statement:"WATER SERVICES"},{name:"Internet Provider",statement:"INTERNET PROV LLC"},{name:"Gas Utility",statement:"GAS UTILITY CO"},{name:"Phone Service",statement:"PHONE SVC #999"}],Shopping:[{name:"Department Store",statement:"DEPT STORE #100"},{name:"Electronics Hub",statement:"ELECTRONICS HUB"},{name:"Fashion Outlet",statement:"FASHION OUTLET"},{name:"Home Goods",statement:"HOME GOODS STORE"},{name:"Book Emporium",statement:"BOOK EMPORIUM"}],Healthcare:[{name:"City Pharmacy",statement:"CITY PHARMACY #77"},{name:"Medical Clinic",statement:"MEDICAL CLINIC"},{name:"Vision Center",statement:"VISION CENTER"},{name:"Dental Office",statement:"DENTAL OFFICE LLC"},{name:"Health Mart",statement:"HEALTH MART #33"}],Travel:[{name:"Airline Express",statement:"AIRLINE EXPRESS"},{name:"Hotel Suites",statement:"HOTEL SUITES INC"},{name:"Car Rental Co",statement:"CAR RENTAL CO"},{name:"Travel Agency",statement:"TRAVEL AGENCY LLC"},{name:"Resort Stay",statement:"RESORT STAY #88"}]},r={Groceries:[25,150],Restaurants:[15,80],Transportation:[10,60],Entertainment:[12,50],Utilities:[40,200],Shopping:[20,200],Healthcare:[15,100],Travel:[100,500]},a=12345,i=()=>(a=a*1103515245+12345&2147483647,a/2147483647),c=(m,s)=>Math.floor(i()*(s-m+1))+m,l=m=>m[Math.floor(i()*m.length)],_=[];_.push("Date	Merchant	Category	Account	Original Statement	Notes	Amount	Tags	Owner");for(let m=1;m<=12;m++)for(let s of e){let p=c(3,6),d=o[s]??[],[b,x]=r[s]??[20,100];for(let S=0;S<p;S++){let h=c(1,28),y=`2025-${String(m).padStart(2,"0")}-${String(h).padStart(2,"0")}`,R=l(d),f=l(t),T=l(n),g=-(c(b*100,x*100)/100);_.push(`${y}	${R.name}	${s}	${f}	${R.statement}		${g.toFixed(2)}		${T}`)}}return _.join(`
`)}function Pt(e){let t=e.trim().split(`
`);if(t.length<2)return[];let n=t[0];if(!n)return[];let o=n.split("	"),r=ne(o),a=[];for(let l=1;l<t.length;l++){let _=t[l];if(!_?.trim())continue;let m=_.split("	");if(r.amount>=0){let s=parseFloat(m[r.amount]??"0")||0;s!==0&&a.push(s)}}let i=re(a),c=[];for(let l=1;l<t.length;l++){let _=t[l];if(!_?.trim())continue;let m=_.split("	"),s=b=>b>=0?m[b]??"":"",p=parseFloat(s(r.amount))||0,d=i?-p:p;c.push({date:s(r.date),merchant:s(r.merchant),category:s(r.category),account:s(r.account),originalStatement:s(r.originalStatement),notes:s(r.notes),amount:d,tags:s(r.tags),owner:s(r.owner),fixedCategory:s(r.fixedCategory)})}return c}function it(e){let t=oe(e);return t?{year:t.year,month:t.month}:null}function st(e){let t=new Set;for(let n of e){let o=it(n.date);o&&t.add(o.year)}return Array.from(t).sort((n,o)=>o-n)}function se(e,t){let n={};for(let o of e){let r=it(o.date);if(!r||r.year!==t)continue;let a=o.fixedCategory||o.category||"Uncategorized";n[a]||(n[a]={});let i=n[a];i&&(i[r.month]=(i[r.month]??0)+o.amount)}return n}function M(e){let n=Math.abs(Math.round(e)).toLocaleString("en-US");return e<0?`-$${n}`:`$${n}`}function Dt(e){let t=Object.values(e).filter(c=>c!==0);if(t.length===0)return{total:0,mean:0,median:0};let n=t.reduce((c,l)=>c+l,0),o=n/t.length,r=[...t].sort((c,l)=>c-l),a=Math.floor(r.length/2),i=r.length%2!==0?r[a]??0:((r[a-1]??0)+(r[a]??0))/2;return{total:n,mean:o,median:i}}function ie(e,t,n,o){return e.filter(r=>{let a=it(r.date);return a&&a.year===n&&a.month===o&&(r.fixedCategory||r.category||"Uncategorized")===t})}function _e(){return u("footer",{class:"footer",children:[u("span",{children:"A vibe-coded micro-app via "}),u("a",{href:"https://searyanc.dev",target:"_blank",rel:"noopener noreferrer",children:"SeaRyanC"}),u("a",{href:"https://github.com/SeaRyanC/app/tree/main/csi",class:"github-link",target:"_blank",rel:"noopener noreferrer",title:"View source on GitHub",children:u("svg",{viewBox:"0 0 16 16","aria-hidden":"true",children:u("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})}),u("span",{class:"version",children:["v",Zt,"+",te]})]})}function ce(){let[e,t]=P(""),[n,o]=P([]),[r,a]=P(null),[i,c]=P(null),[l,_]=P("amount"),[m,s]=P("desc");Lt(()=>{let f=localStorage.getItem(at),T=f||ae();t(T),f||localStorage.setItem(at,T);let g=Pt(T);o(g);let A=st(g);A[0]!==void 0&&a(A[0])},[]);let p=f=>{let g=f.target.value;t(g),localStorage.setItem(at,g);let A=Pt(g);o(A);let C=st(A);C[0]!==void 0&&(r===null||!C.includes(r))&&a(C[0]),c(null)},d=st(n),b=r!==null?se(n,r):{},x=Object.keys(b).sort(),S=(f,T)=>{r!==null&&c({category:f,month:T,year:r})},h=f=>{l===f?s(m==="asc"?"desc":"asc"):(_(f),s(f==="amount"?"desc":"asc"))},R=[...i?ie(n,i.category,i.year,i.month):[]].sort((f,T)=>{let g=f[l],A=T[l],C=m==="asc"?1:-1;return typeof g=="number"&&typeof A=="number"?(g-A)*C:String(g).localeCompare(String(A))*C});return u("div",{class:"container",children:[u("h1",{children:"Category Spending Insights"}),u("div",{children:[u("label",{children:u("strong",{children:"Paste your TSV data here:"})}),u("textarea",{value:e,onInput:p,placeholder:"Date	Merchant	Category	Account	Original Statement	Notes	Amount	Tags	Owner	FixedCategory"})]}),n.length>0&&u(L,{children:[u("div",{class:"year-selector",children:[u("strong",{children:"Year: "}),d.map(f=>u("button",{class:f===r?"active":"",onClick:()=>{a(f),c(null)},children:f},f))]}),r!==null&&x.length>0&&(()=>{let f={};for(let g of x){let A=b[g]??{};for(let C=1;C<=12;C++)f[C]=(f[C]??0)+(A[C]??0)}let T=Dt(f);return u("table",{class:"pivot-table",children:[u("thead",{children:u("tr",{children:[u("th",{children:"Category"}),q.map(g=>u("th",{children:g},g)),u("th",{children:"Total"}),u("th",{children:"Mean"}),u("th",{children:"Median"})]})}),u("tbody",{children:[x.map(g=>{let A=b[g]??{},C=Dt(A);return u("tr",{children:[u("td",{children:g}),q.map((I,U)=>{let w=U+1,O=A[w]??0,Ft=i?.category===g&&i?.month===w;return u("td",{class:`clickable ${Ft?"selected":""}`,onClick:()=>S(g,w),children:O!==0?M(O):""},w)}),u("td",{children:M(C.total)}),u("td",{children:M(C.mean)}),u("td",{children:M(C.median)})]},g)}),u("tr",{class:"total-row",children:[u("td",{children:u("strong",{children:"Total"})}),q.map((g,A)=>{let C=A+1,I=f[C]??0;return u("td",{children:I!==0?M(I):""},C)}),u("td",{children:u("strong",{children:M(T.total)})}),u("td",{children:u("strong",{children:M(T.mean)})}),u("td",{children:u("strong",{children:M(T.median)})})]})]})]})})(),i&&R.length>0&&u("div",{class:"transactions",children:[u("h3",{children:["Transactions for ",i.category," - ",q[i.month-1]," ",i.year]}),u("table",{children:[u("thead",{children:u("tr",{children:[u("th",{class:"sortable",onClick:()=>h("date"),children:["Date ",l==="date"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("merchant"),children:["Merchant ",l==="merchant"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("category"),children:["Category ",l==="category"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("account"),children:["Account ",l==="account"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("originalStatement"),children:["Original Statement ",l==="originalStatement"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("notes"),children:["Notes ",l==="notes"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("tags"),children:["Tags ",l==="tags"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("owner"),children:["Owner ",l==="owner"?m==="asc"?"\u25B2":"\u25BC":""]}),u("th",{class:"sortable",onClick:()=>h("amount"),children:["Amount ",l==="amount"?m==="asc"?"\u25B2":"\u25BC":""]})]})}),u("tbody",{children:R.map((f,T)=>u("tr",{children:[u("td",{class:"truncate",title:f.date,children:f.date}),u("td",{title:f.merchant,children:f.merchant}),u("td",{class:"truncate",title:f.category,children:f.category}),u("td",{class:"truncate",title:f.account,children:f.account}),u("td",{class:"truncate",title:f.originalStatement,children:f.originalStatement}),u("td",{class:"truncate",title:f.notes,children:f.notes}),u("td",{class:"truncate",title:f.tags,children:f.tags}),u("td",{class:"truncate",title:f.owner,children:f.owner}),u("td",{children:M(f.amount)})]},T))})]})]})]}),u(_e,{})]})}var Ut=document.getElementById("app");Ut&&Tt(u(ce,{}),Ut);})();
//# sourceMappingURL=app.js.map
